{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nfunction NavbarComponent_nav_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"nav\", 1)(1, \"div\", 2)(2, \"div\", 3);\n    i0.ɵɵelement(3, \"img\", 4);\n    i0.ɵɵelementStart(4, \"span\", 5);\n    i0.ɵɵtext(5, \"Pok\\u00E9dex\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 6)(7, \"a\", 7);\n    i0.ɵɵtext(8, \" Pok\\u00E9mon \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 8);\n    i0.ɵɵtext(10, \" Perfil \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 9);\n    i0.ɵɵelement(12, \"img\", 10);\n    i0.ɵɵelementStart(13, \"span\", 11);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_nav_0_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.logout());\n    });\n    i0.ɵɵtext(16, \" Cerrar sesi\\u00F3n \");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const user_r1 = ctx.ngIf;\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"src\", user_r1.avatar, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.nickname);\n  }\n}\n\nexport class NavbarComponent {\n  constructor(authService, userService, router) {\n    this.authService = authService;\n    this.userService = userService;\n    this.router = router;\n    this.isAuthenticated = false;\n    this.nickname = '';\n    this.userProfile$ = this.userService.userProfile$;\n  }\n\n  ngOnInit() {\n    this.isAuthenticated = this.authService.isLoggedIn();\n\n    if (this.isAuthenticated) {\n      this.nickname = this.userService.getUserProfile().nickname;\n    }\n\n    this.authService.isAuthenticated$.subscribe(isAuth => {\n      this.isAuthenticated = isAuth;\n\n      if (isAuth) {\n        this.nickname = this.userService.getUserProfile().nickname;\n      }\n    });\n    this.userService.userProfile$.subscribe(profile => {\n      this.nickname = profile.nickname;\n    });\n  }\n\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n\n}\n\nNavbarComponent.ɵfac = function NavbarComponent_Factory(t) {\n  return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nNavbarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavbarComponent,\n  selectors: [[\"app-navbar\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"navbar\", 4, \"ngIf\"], [1, \"navbar\"], [1, \"navbar-container\"], [1, \"navbar-brand\"], [\"src\", \"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png\", \"alt\", \"Pok\\u00E9dex\", 1, \"logo\"], [1, \"brand-name\"], [1, \"navbar-links\"], [\"routerLink\", \"/pokemons\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [\"routerLink\", \"/profile\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [1, \"navbar-user\"], [\"alt\", \"Avatar\", 1, \"user-avatar\", 3, \"src\"], [1, \"user-name\"], [1, \"logout-btn\", 3, \"click\"]],\n  template: function NavbarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, NavbarComponent_nav_0_Template, 17, 2, \"nav\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.userProfile$));\n    }\n  },\n  dependencies: [i4.NgIf, i3.RouterLinkWithHref, i3.RouterLinkActive, i4.AsyncPipe],\n  styles: [\".navbar[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 64px;\\n  background-color: #1f2937; \\n  color: #ffffff;\\n  display: flex;\\n  justify-content: center;\\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);\\n}\\n\\n.navbar-container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  max-width: 1200px;\\n  padding: 0 16px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n\\n\\n\\n.navbar-brand[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n}\\n\\n.logo[_ngcontent-%COMP%] {\\n  width: 32px;\\n  height: 32px;\\n}\\n\\n.brand-name[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n}\\n\\n\\n\\n.navbar-links[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 16px;\\n}\\n\\n.nav-link[_ngcontent-%COMP%] {\\n  color: #e5e7eb;\\n  text-decoration: none;\\n  font-weight: 500;\\n}\\n\\n.nav-link.active[_ngcontent-%COMP%] {\\n  color: #facc15;\\n}\\n\\n\\n\\n.navbar-user[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n}\\n\\n.user-avatar[_ngcontent-%COMP%] {\\n  width: 36px;\\n  height: 36px;\\n  border-radius: 50%;\\n  object-fit: cover;\\n  border: 2px solid #facc15;\\n}\\n\\n.user-name[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n  font-weight: 500;\\n}\\n\\n.logout-btn[_ngcontent-%COMP%] {\\n  padding: 6px 12px;\\n  font-size: 0.8rem;\\n  border: none;\\n  border-radius: 4px;\\n  background-color: #ef4444;\\n  color: white;\\n  cursor: pointer;\\n}\\n\\n.logout-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #dc2626;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmJhci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUEsRUFBQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSx5Q0FBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0FBQ0Y7O0FBRUEsYUFBQTs7QUFDQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFFBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUEsVUFBQTs7QUFDQTtFQUNFLGFBQUE7RUFDQSxTQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtBQUNGOztBQUVBLFlBQUE7O0FBQ0E7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0FBQ0YiLCJmaWxlIjoibmF2YmFyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5hdmJhciB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiA2NHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMxZjI5Mzc7IC8qIGdyaXMgb3NjdXJvICovXHJcbiAgY29sb3I6ICNmZmZmZmY7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBib3gtc2hhZG93OiAwIDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjI1KTtcclxufVxyXG5cclxuLm5hdmJhci1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1heC13aWR0aDogMTIwMHB4O1xyXG4gIHBhZGRpbmc6IDAgMTZweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4vKiBCcmFuZGluZyAqL1xyXG4ubmF2YmFyLWJyYW5kIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiA4cHg7XHJcbn1cclxuXHJcbi5sb2dvIHtcclxuICB3aWR0aDogMzJweDtcclxuICBoZWlnaHQ6IDMycHg7XHJcbn1cclxuXHJcbi5icmFuZC1uYW1lIHtcclxuICBmb250LXNpemU6IDEuMXJlbTtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4vKiBMaW5rcyAqL1xyXG4ubmF2YmFyLWxpbmtzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGdhcDogMTZweDtcclxufVxyXG5cclxuLm5hdi1saW5rIHtcclxuICBjb2xvcjogI2U1ZTdlYjtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLm5hdi1saW5rLmFjdGl2ZSB7XHJcbiAgY29sb3I6ICNmYWNjMTU7XHJcbn1cclxuXHJcbi8qIFVzdWFyaW8gKi9cclxuLm5hdmJhci11c2VyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiAxMnB4O1xyXG59XHJcblxyXG4udXNlci1hdmF0YXIge1xyXG4gIHdpZHRoOiAzNnB4O1xyXG4gIGhlaWdodDogMzZweDtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgYm9yZGVyOiAycHggc29saWQgI2ZhY2MxNTtcclxufVxyXG5cclxuLnVzZXItbmFtZSB7XHJcbiAgZm9udC1zaXplOiAwLjlyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLmxvZ291dC1idG4ge1xyXG4gIHBhZGRpbmc6IDZweCAxMnB4O1xyXG4gIGZvbnQtc2l6ZTogMC44cmVtO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VmNDQ0NDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4ubG9nb3V0LWJ0bjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RjMjYyNjtcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAAAA,+BAAyD,CAAzD,EAAyD,KAAzD,EAAyD,CAAzD,EAAyD,CAAzD,EAAyD,KAAzD,EAAyD,CAAzD;IAKMA;IAKAA;IAAyBA;IAAOA;IAIlCA,+BAA0B,CAA1B,EAA0B,GAA1B,EAA0B,CAA1B;IAMIA;IACFA;IAEAA;IAKEA;IACFA;IAIFA;IACEA;IAKAA;IAAwBA;IAAmBA;IAE3CA;IAEEA;MAAAA;MAAA;MAAA,OAASA,+BAAT;IAAiB,CAAjB;IAEAA;IACFA;;;;;IAXEA;IAAAA;IAIsBA;IAAAA;;;;AC1B9B,OAAM,MAAOC,eAAP,CAAsB;EAM1BC,YACUC,WADV,EAEUC,WAFV,EAGUC,MAHV,EAGwB;IAFd;IACA;IACA;IANV,uBAA2B,KAA3B;IACA,gBAAmB,EAAnB;IAOE,KAAKC,YAAL,GAAoB,KAAKF,WAAL,CAAiBE,YAArC;EACD;;EAEDC,QAAQ;IACN,KAAKC,eAAL,GAAuB,KAAKL,WAAL,CAAiBM,UAAjB,EAAvB;;IAEA,IAAI,KAAKD,eAAT,EAA0B;MACxB,KAAKE,QAAL,GAAgB,KAAKN,WAAL,CAAiBO,cAAjB,GAAkCD,QAAlD;IACD;;IAED,KAAKP,WAAL,CAAiBS,gBAAjB,CAAkCC,SAAlC,CAA6CC,MAAD,IAAoB;MAC9D,KAAKN,eAAL,GAAuBM,MAAvB;;MACA,IAAIA,MAAJ,EAAY;QACV,KAAKJ,QAAL,GAAgB,KAAKN,WAAL,CAAiBO,cAAjB,GAAkCD,QAAlD;MACD;IACF,CALD;IAOA,KAAKN,WAAL,CAAiBE,YAAjB,CAA8BO,SAA9B,CAAyCE,OAAD,IAAyB;MAC/D,KAAKL,QAAL,GAAgBK,OAAO,CAACL,QAAxB;IACD,CAFD;EAGD;;EAEDM,MAAM;IACJ,KAAKb,WAAL,CAAiBa,MAAjB;IACA,KAAKX,MAAL,CAAYY,QAAZ,CAAqB,CAAC,QAAD,CAArB;EACD;;AApCyB;;;mBAAfhB,iBAAeD;AAAA;;;QAAfC;EAAeiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDb5BtB;;;;;MAAqBA","names":["i0","NavbarComponent","constructor","authService","userService","router","userProfile$","ngOnInit","isAuthenticated","isLoggedIn","nickname","getUserProfile","isAuthenticated$","subscribe","isAuth","profile","logout","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\GITHUB\\CARTELERA_CINE\\pokedex-app\\src\\app\\components\\navbar\\navbar.component.html","C:\\GITHUB\\CARTELERA_CINE\\pokedex-app\\src\\app\\components\\navbar\\navbar.component.ts"],"sourcesContent":["<nav class=\"navbar\" *ngIf=\"userProfile$ | async as user\">\r\n  <div class=\"navbar-container\">\r\n\r\n    <!-- Marca -->\r\n    <div class=\"navbar-brand\">\r\n      <img\r\n        src=\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png\"\r\n        alt=\"Pokédex\"\r\n        class=\"logo\"\r\n      />\r\n      <span class=\"brand-name\">Pokédex</span>\r\n    </div>\r\n\r\n    <!-- Navegación -->\r\n    <div class=\"navbar-links\">\r\n      <a\r\n        routerLink=\"/pokemons\"\r\n        routerLinkActive=\"active\"\r\n        class=\"nav-link\"\r\n      >\r\n        Pokémon\r\n      </a>\r\n\r\n      <a\r\n        routerLink=\"/profile\"\r\n        routerLinkActive=\"active\"\r\n        class=\"nav-link\"\r\n      >\r\n        Perfil\r\n      </a>\r\n    </div>\r\n\r\n    <!-- Usuario -->\r\n    <div class=\"navbar-user\">\r\n      <img\r\n        [src]=\"user.avatar\"\r\n        alt=\"Avatar\"\r\n        class=\"user-avatar\"\r\n      />\r\n      <span class=\"user-name\">{{ user.nickname }}</span>\r\n\r\n      <button\r\n        class=\"logout-btn\"\r\n        (click)=\"logout()\"\r\n      >\r\n        Cerrar sesión\r\n      </button>\r\n    </div>\r\n\r\n  </div>\r\n</nav>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { UserService, UserProfile } from '../../services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.scss']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n  // Observable directo desde el servicio\r\n  userProfile$: Observable<UserProfile>;\r\n  isAuthenticated: boolean = false;\r\n  nickname: string = '';\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private userService: UserService,\r\n    private router: Router\r\n  ) {\r\n    this.userProfile$ = this.userService.userProfile$;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.isAuthenticated = this.authService.isLoggedIn();\r\n\r\n    if (this.isAuthenticated) {\r\n      this.nickname = this.userService.getUserProfile().nickname;\r\n    }\r\n\r\n    this.authService.isAuthenticated$.subscribe((isAuth: boolean) => {\r\n      this.isAuthenticated = isAuth;\r\n      if (isAuth) {\r\n        this.nickname = this.userService.getUserProfile().nickname;\r\n      }\r\n    });\r\n\r\n    this.userService.userProfile$.subscribe((profile: UserProfile) => {\r\n      this.nickname = profile.nickname;\r\n    });\r\n  }\r\n\r\n  logout(): void {\r\n    this.authService.logout();\r\n    this.router.navigate(['/login']);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}