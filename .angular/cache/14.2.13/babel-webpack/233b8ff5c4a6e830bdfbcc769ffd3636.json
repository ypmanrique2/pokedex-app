{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nfunction NavbarComponent_nav_0_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelement(2, \"img\", 9);\n    i0.ɵɵelementStart(3, \"span\", 10);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_nav_0_ng_container_11_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.logout());\n    });\n    i0.ɵɵtext(6, \" \\u2B05 Salir \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const user_r2 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", user_r2.avatar, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.nickname);\n  }\n}\n\nfunction NavbarComponent_nav_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nav\")(1, \"div\", 1)(2, \"div\", 2);\n    i0.ɵɵelement(3, \"img\", 3);\n    i0.ɵɵelementStart(4, \"span\", 4);\n    i0.ɵɵtext(5, \"Pok\\u00E9dex\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 5)(7, \"a\", 6);\n    i0.ɵɵtext(8, \" Pok\\u00E9mon \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 7);\n    i0.ɵɵtext(10, \" Perfil \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, NavbarComponent_nav_0_ng_container_11_Template, 7, 2, \"ng-container\", 0);\n    i0.ɵɵpipe(12, \"async\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(12, 1, ctx_r0.user$));\n  }\n}\n\nexport class NavbarComponent {\n  constructor( // Servicio encargado del estado de autenticación\n  auth, // Servicio que expone el perfil del usuario\n  userService, // Enrutamiento de navegación\n  router) {\n    this.auth = auth;\n    this.userService = userService;\n    this.router = router; // Observable que controla visibilidad\n\n    this.isAuthenticated$ = this.auth.isAuthenticated$(); // Streams directos desde los servicios\n\n    this.user$ = this.userService.userProfile$; // naming consistente\n  } // Cierra sesión; limpia estado de autenticación y redirige a login\n\n\n  logout() {\n    this.auth.logout();\n    this.router.navigate(['/login']);\n  }\n\n}\n\nNavbarComponent.ɵfac = function NavbarComponent_Factory(t) {\n  return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nNavbarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavbarComponent,\n  selectors: [[\"app-navbar\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [1, \"navbar-container\"], [1, \"navbar-brand\"], [\"src\", \"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png\", \"alt\", \"Pok\\u00E9dex\", 1, \"logo\"], [1, \"brand-name\"], [1, \"navbar-menu\"], [\"routerLink\", \"/pokemons\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [\"routerLink\", \"/profile\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [1, \"user-info\"], [\"alt\", \"Avatar\", 1, \"user-avatar\", 3, \"src\"], [1, \"user-name\"], [1, \"pokemon-logout-btn\", 3, \"click\"]],\n  template: function NavbarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, NavbarComponent_nav_0_Template, 13, 3, \"nav\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.isAuthenticated$));\n    }\n  },\n  dependencies: [i4.NgIf, i3.RouterLinkWithHref, i3.RouterLinkActive, i4.AsyncPipe],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 754:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nSassError: Expected digit.\\\\n    \\u2577\\\\n139 \\u2502     box-shadow: 0 0.px 0 #000;\\\\r\\\\n    \\u2502                     ^\\\\n    \\u2575\\\\n  src\\\\\\\\app\\\\\\\\components\\\\\\\\navbar\\\\\\\\navbar.component.scss 139:21  root stylesheet\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[754]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAsBMA;IACEA;IACEA;IACAA;IAAwBA;IAAmBA;IAE3CA;IAAmCA;MAAAA;MAAA;MAAA,OAASA,+BAAT;IAAiB,CAAjB;IACjCA;IACFA;IAEJA;;;;;IAPSA;IAAAA;IACmBA;IAAAA;;;;;;IAzBlCA,4BAAsC,CAAtC,EAAsC,KAAtC,EAAsC,CAAtC,EAAsC,CAAtC,EAAsC,KAAtC,EAAsC,CAAtC;IAMMA;IAEAA;IAAyBA;IAAOA;IAIlCA,+BAAyB,CAAzB,EAAyB,GAAzB,EAAyB,CAAzB;IAEIA;IACFA;IAEAA;IACEA;IACFA;IAGAA;;IAUFA;;;;;IAViBA;IAAAA;;;;ACXrB,OAAM,MAAOC,eAAP,CAAsB;EAO1BC,aACE;EACQC,IAFV,EAGE;EACQC,WAJV,EAKE;EACQC,MANV,EAMwB;IAJd;IAEA;IAEA,qBAAc,CAXxB;;IACA,wBAAmB,KAAKF,IAAL,CAAUG,gBAAV,EAAnB,CAUwB,CATxB;;IACS,aAAQ,KAAKF,WAAL,CAAiBG,YAAzB,CAQe,CARwB;EAS3C,CAdqB,CAe1B;;;EACAC,MAAM;IACJ,KAAKL,IAAL,CAAUK,MAAV;IACA,KAAKH,MAAL,CAAYI,QAAZ,CAAqB,CAAC,QAAD,CAArB;EACD;;AAnByB;;;mBAAfR,iBAAeD;AAAA;;;QAAfC;EAAeS;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX5Bd;;;;;MAAMA","names":["i0","NavbarComponent","constructor","auth","userService","router","isAuthenticated$","userProfile$","logout","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\GITHUB\\CARTELERA_CINE\\pokedex-app\\src\\app\\components\\navbar\\navbar.component.html","C:\\GITHUB\\CARTELERA_CINE\\pokedex-app\\src\\app\\components\\navbar\\navbar.component.ts"],"sourcesContent":["<nav *ngIf=\"isAuthenticated$ | async\">\r\n  <!-- navbar completa -->\r\n  <div class=\"navbar-container\">\r\n\r\n    <!-- Marca -->\r\n    <div class=\"navbar-brand\">\r\n      <img src=\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png\" alt=\"Pokédex\"\r\n        class=\"logo\" />\r\n      <span class=\"brand-name\">Pokédex</span>\r\n    </div>\r\n\r\n    <!-- Menú -->\r\n    <div class=\"navbar-menu\">\r\n      <a routerLink=\"/pokemons\" routerLinkActive=\"active\" class=\"nav-link\">\r\n        Pokémon\r\n      </a>\r\n\r\n      <a routerLink=\"/profile\" routerLinkActive=\"active\" class=\"nav-link\">\r\n        Perfil\r\n      </a>\r\n\r\n      <!-- Usuario -->\r\n      <ng-container *ngIf=\"user$ | async as user\">\r\n        <div class=\"user-info\">\r\n          <img [src]=\"user.avatar\" alt=\"Avatar\" class=\"user-avatar\" />\r\n          <span class=\"user-name\">{{ user.nickname }}</span>\r\n\r\n          <button class=\"pokemon-logout-btn\" (click)=\"logout()\">\r\n            ⬅ Salir\r\n          </button>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n\r\n  </div>\r\n</nav>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { UserService } from '../../services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.scss']\r\n})\r\nexport class NavbarComponent {\r\n\r\n  // Observable que controla visibilidad\r\n  isAuthenticated$ = this.auth.isAuthenticated$();\r\n  // Streams directos desde los servicios\r\n  readonly user$ = this.userService.userProfile$; // naming consistente\r\n\r\n  constructor(\r\n    // Servicio encargado del estado de autenticación\r\n    private auth: AuthService,\r\n    // Servicio que expone el perfil del usuario\r\n    private userService: UserService,\r\n    // Enrutamiento de navegación\r\n    private router: Router\r\n  ) { }\r\n  // Cierra sesión; limpia estado de autenticación y redirige a login\r\n  logout(): void {\r\n    this.auth.logout();\r\n    this.router.navigate(['/login']);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}